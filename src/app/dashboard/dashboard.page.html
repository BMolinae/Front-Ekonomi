<ion-content class="dashboard-container">
  <div class="background-gradient"></div>
  <div class="background-circle circle-1"></div>
  <div class="background-circle circle-2"></div>

  <div class="content-wrapper">
    <div class="header-section">
      <div class="logo-text">Ekonomi</div>
      <ion-icon name="notifications-outline" class="notification-icon"></ion-icon>
    </div>

    <div class="main-section">
      <ion-card class="account-card">
        <ion-card-content>
          <div class="account-info">
            <div class="account-label">Cuenta Corriente</div>
            <div class="account-number">*66578</div>
          </div>

          <div class="saldo-label">Saldo Disponible</div>

          <div class="balance-section">
            <div class="currency-symbol">$</div>
            <div id="balance-display" class="balance-amount">2.400.000</div>
            <div class="show-balance" id="toggle-balance">
              <ion-icon name="eye-outline" id="eye-icon"></ion-icon>
            </div>
          </div>

          <div class="account-stats">
            <div class="stat-item limit-section">
              <div class="stat-icon">
                <ion-icon name="wallet-outline"></ion-icon>
              </div>
              <div class="stat-content">
                <div class="stat-label">Límite Disponible</div>
                <div class="stat-value">$600.000</div>
                <div class="stat-progress">
                  <div class="progress-bar" style="width: 30%;"></div>
                </div>
              </div>
            </div>

            <div class="stats-row">
              <div class="stat-item monthly-item expenses">
                <div class="stat-icon">
                  <ion-icon name="trending-down-outline"></ion-icon>
                </div>
                <div class="stat-content">
                  <div class="stat-label">Gastos del mes</div>
                  <div class="stat-value">$600.000</div>
                  <div class="small-text">30% de ingresos</div>
                </div>
              </div>

              <div class="stat-item monthly-item income">
                <div class="stat-icon">
                  <ion-icon name="trending-up-outline"></ion-icon>
                </div>
                <div class="stat-content">
                  <div class="stat-label">Ingreso del mes</div>
                  <div class="stat-value">$2.000.000</div>
                  <div class="small-text">Últimos 30 días</div>
                </div>
              </div>
            </div>
          </div>
        </ion-card-content>
      </ion-card>

      <div class="action-buttons">
        <ion-button class="action-button add-card">
          <ion-icon name="card-outline" slot="start"></ion-icon>
          Agregar tarjeta
        </ion-button>

        <ion-button class="action-button set-limit">
          <ion-icon name="options-outline" slot="start"></ion-icon>
          Poner límite
        </ion-button>
      </div>

      <div class="ad-carousel-container">
        <div class="ad-carousel">
          <div class="ad-slide active">
            <div class="ad-content">
              <div class="ad-icon">
                <ion-icon name="cash-outline"></ion-icon>
              </div>
              <div class="ad-text">
                <h3>La forma más eficaz de administrar tu dinero.</h3>
                <p>Tasa preferencial por tiempo limitado</p>
              </div>
            </div>
          </div>
          <div class="ad-slide">
            <div class="ad-content">
              <div class="ad-icon">
                <ion-icon name="home-outline"></ion-icon>
              </div>
              <div class="ad-text">
                <h3>Crédito hipotecario</h3>
                <p>Financiamiento hasta 30 años</p>
              </div>
            </div>
          </div>
          <div class="ad-slide">
            <div class="ad-content">
              <div class="ad-icon">
                <ion-icon name="shield-checkmark-outline"></ion-icon>
              </div>
              <div class="ad-text">
                <h3>Seguro de vida</h3>
                <p>Protege a los que más quieres</p>
              </div>
            </div>
          </div>
        </div>
        <div class="carousel-indicators">
          <div class="indicator active"></div>
          <div class="indicator"></div>
          <div class="indicator"></div>
        </div>
      </div>

      <div class="transactions-section">
        <h2 class="section-title">Transacciones recientes</h2>
        <ion-list class="transactions-list">
          <ion-item class="empty-transactions">
            <div class="empty-message">
              No hay transacciones recientes disponibles
            </div>
          </ion-item>
        </ion-list>
      </div>
    </div>

    <div class="footer">
      <!-- Opcional: puede agregar contenido aquí -->
    </div>
  </div>
</ion-content>

<ion-footer class="nav-footer">
  <div class="nav-container">
    <div class="nav-button active">
      <ion-icon name="home"></ion-icon>
      <span class="nav-label">Inicio</span>
    </div>
    <div class="nav-button">
      <ion-icon name="bar-chart"></ion-icon>
      <span class="nav-label">Gráficos</span>
    </div>
    <div class="nav-button">
      <ion-icon name="chatbubble-ellipses"></ion-icon>
      <span class="nav-label">ChatBot</span>
    </div>
    <div class="nav-button">
      <ion-icon name="document-text"></ion-icon>
      <span class="nav-label">Documentos</span>
    </div>
  </div>
</ion-footer>

<script>
document.addEventListener('ionicOverlayDidPresent', initApp);
document.addEventListener('DOMContentLoaded', initApp);

let appInitialized = false;

function initApp() {
  if (appInitialized) return;
  appInitialized = true;

  setTimeout(() => {
    const balanceToggle = document.getElementById('toggle-balance');
    const balanceDisplay = document.getElementById('balance-display');
    const eyeIcon = document.getElementById('eye-icon');

    const realBalance = '2.400.000';
    const hiddenBalance = '**********';
    let isBalanceHidden = false;

    if (balanceToggle) {
      balanceToggle.addEventListener('click', function() {
        if (isBalanceHidden) {
          balanceDisplay.textContent = realBalance;
          eyeIcon.setAttribute('name', 'eye-off-outline');
        } else {
          balanceDisplay.textContent = hiddenBalance;
          eyeIcon.setAttribute('name', 'eye-outline');
        }
        isBalanceHidden = !isBalanceHidden;
      });
    }

    const slides = document.querySelectorAll('.ad-slide');
    const indicators = document.querySelectorAll('.indicator');
    let currentSlide = 0;
    let carouselInterval;

    function showSlide(index) {
      slides.forEach(slide => slide.classList.remove('active'));
      indicators.forEach(indicator => indicator.classList.remove('active'));

      slides[index].classList.add('active');
      indicators[index].classList.add('active');
      currentSlide = index;
    }

    function startCarousel() {
      if (carouselInterval) clearInterval(carouselInterval);

      carouselInterval = setInterval(() => {
        let nextSlide = (currentSlide + 1) % slides.length;
        showSlide(nextSlide);
      }, 5000);
    }

    startCarousel();

    indicators.forEach((indicator, index) => {
      indicator.addEventListener('click', () => {
        showSlide(index);
        startCarousel();
      });
    });

    const navButtons = document.querySelectorAll('.nav-button');

    navButtons.forEach(button => {
      button.addEventListener('click', function() {
        navButtons.forEach(btn => btn.classList.remove('active'));
        this.classList.add('active');
      });
    });
  }, 100);
}
</script>
